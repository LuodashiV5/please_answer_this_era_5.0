你有没有这种感觉

明明 Claude 模型能力很强，写代码、改 bug 都很溜。但一到你的项目里，它就开始各种犯傻：该用的框架不用，该遵守的规范不遵守，文件改到不该改的地方。

原因很简单：**每次新开会话，Claude 对你的项目一无所知。**

### 踩过最大的坑：把它当 README 写

刚开始用的时候，我把 claude.md 写成了一个小型 Wiki：项目背景写了三段、技术选型写了五段、未来规划也塞进去了。

结果呢？Claude 该忽略的照样忽略，该遵守的还是不遵守。

后来我看了 Anthropic 的文档才明白：**claude.md 根本不是文档，它是一个配置文件。**

什么意思？它会直接注入 Claude 的系统提示词里。

你写在 claude.md 里的每一句话，Claude 都会当成「系统级指令」来对待——比你在聊天框里打字的优先级更高。

一旦你理解了这个，就知道该怎么写了：

**不是在写给人看的文档，而是在给 AI 下达操作规则。**

### 好的 claude.md 到底该写什么？

我现在写 claude.md，只考虑三件事：

**第一，项目记忆。** Claude 需要在会话之间记住的东西。比如技术栈、目录结构、核心依赖。

**第二，操作边界。** 你不希望 Claude 干的事情。比如「不要直接修改 production 分支的代码」「不要删除测试文件」。

**第三，上下文引导。** Claude 开工前应该先知道的背景，让它不是从零开始，而是带着基本认知上场。

给你一个参考量级：**如果你写超过 100 条指令，就说明塞太多了。** 少即是多，这个原则在 claude.md 上体现得淋漓尽致。

### 三层架构：个人偏好到项目级规范

很多人不知道，claude.md 其实支持**分层放置**，Claude 会按照固定顺序加载它们。

我现在的用法是这样的：

**第一层：全局配置**，放在 `~/.claude/CLAUDE.md`。

这是我的个人偏好，不管打开哪个项目都生效。比如「代码注释用中文」「commit message 用英文」「遇到不确定的地方先问我」。

**第二层：项目配置**，放在项目根目录 `/project/CLAUDE.md`。

针对具体项目的规则。技术栈、目录结构、构建命令，一个项目一份。

**第三层：嵌套配置**，放在子目录 `/project/src/CLAUDE.md`。

这个设计我第一次看到的时候挺惊讶的。它让主上下文保持精简，只在 Claude 需要特定领域知识时才「渐进式展开」。

如果你的项目是 monorepo，这种分层策略几乎是必须的。前端、后端、共享包、测试——每个目录各放一份，比在根目录写一个臃肿的大文件优雅太多。

顺带提一下文件命名：`CLAUDE.md` 是标准名称，会提交到 git，适合团队共享。如果你有些个人偏好不想让同事看到，可以用 `CLAUDE.local.md`，记得加到 `.gitignore` 里。

### 什么该写，什么不该写

这个问题其实比「怎么写」更重要。

**必写的：** 项目简介、技术栈、核心命令、目录结构。这四个是地基。

**看情况写的：** 命名规范、Git commit 规范、测试要求、部署流程。如果团队有强约束，就写。

**千万别写的：**
- API Key 等敏感信息（这个不用解释了吧）
- ESLint / Prettier 等 linter 的详细配置（Claude 会自己读配置文件）
- 具体的功能需求描述（这是聊天框干的事）
- 任何 Claude 可以通过阅读代码自己知道的信息

最后这条很多人会犯：你在 claude.md 里写「本项目使用了 React Query 做数据请求」，但 Claude 看一眼 package.json 就知道了。这种信息写进去只是浪费上下文窗口。

**claude.md 的容量上限大概在 150-200 条指令。** 超过这个数，不是不能用，而是效果会打折扣。

### 进阶玩法：让 claude.md 威力翻倍

基础用法掌握了之后，下面这几招是我实际项目中用过的进阶技巧。

**给大型项目建索引**

当项目大到几百个文件时，Claude 不可能一次看完所有代码。这时候你可以单独建一个索引文件，比如 `general_index.md`，把核心目录和文件的作用列清楚。

然后在 claude.md 里这么引用：

``## 代码导航      
请参考以下索引文件了解项目结构：   
- `general_index.md` — 各模块的核心文件说明     
注意：索引可能不是最新的，必要时请查看实际文件核实。   ``

相当于你给 Claude 画了一张地图，它不用满项目瞎找了。

**按功能模块拆分 claude.md**

当你的 claude.md 越写越长时，考虑模块化。按照「开发命令」「代码规范」「工作流程」「文件边界」「工具集成」这样的板块来组织，结构清晰，Claude 也更容易定位到相关指令。

**用工作流约束复杂任务**

这是我最喜欢的一招。与其让 Claude 自由发挥，不如直接在 claude.md 里定义好 SOP：

比如「新增 API 接口」的标准流程：先查重 → 建 schema → 写路由 → 加测试 → 更新文档 → 跑全量测试。

Claude 看到这个工作流，就会按步骤执行，不会上来就乱改代码。

**按开发阶段切换配置**

我有时候会在 `.claude/` 目录下准备多份配置：`CLAUDE.development.md`、`CLAUDE.deployment.md`、`CLAUDE.debugging.md`。不同阶段侧重点不同，切换起来也很方便。

**如果你用了 MCP，一定要写进去**

很多人配了 MCP（比如 Slack 通知、数据库查询），但没在 claude.md 里声明使用规则。结果 Claude 用起来没有边界，该发的通知没发，不该查的库查了一堆。

在 claude.md 里明确写清楚：哪个 MCP 干什么、有什么限制、什么场景下优先使用。这一步很容易被忽略，但非常关键。

### 写在最后

回过头看，claude.md 这个东西，说简单也简单——就是一个 Markdown 文件。

**认真对待你的 claude.md，就是在认真对待你和 Claude 的协作效率。**

这可能是你在 Claude Code 里，投入产出比最高的 10 分钟。

如果你也在关注AI出海领域，自己摸索很容易踩坑，欢迎你来我的出海围观群避坑，这里会分享我从0到1跑通的全过程。